

library("tidyverse")
library(readr)
raw_stats <- read.csv("~/Documents/Class/CKME-136/Workshop/all_energy_statistics.csv")
View(raw_stats)
summary(raw_stats)
str(raw_stats)
anyNA(raw_stats$quantity_footnotes)
sum(is.na(raw_stats$quantity_footnotes))
ncol(raw_stats)
nrow(raw_stats)

(sum(is.na(raw_stats$quantity_footnotes))/nrow(raw_stats))*100
class(raw_stats)

raw_stats <- raw_stats[-c(6)]  *** Optional

OR 

# Use pipe command of tidyverse dplyr: %>%

raw_tibble <- as_tibble(raw_stats) %>% select(-Quantity_footnotes)

Data Filtering:
=====================================
Categories of interest
Hard coal - transformation in electricity, CHP and heat plants
Brown coal - transformation in electricity, CHP and heat plants
Fuel oil - transformation in electricity, CHP and heat plants
Gas Oil/ Diesel Oil - transformation in electricity, CHP and heat plants
Natural Gas (including LNG) - transformation in electricity, CHP and heat plants


Example:
hard_coal <- raw_stats %>% filter(commodity_transaction == "Hard coal - transformation in electricity, CHP and heat plants") %>% group_by(country_or_area) %>% nest() 

summary(hard_coal$commodity_transaction)

# Generate stats to determine value for each nested group, lm, slope, R-squared, then plot
# Initially considered grouping EU nations together but individual entities of EU have their own policies - no centralized enger policy of EU beyind COP21 so value would be lost in noise, therefore disregard.

# Generate data in R or export??

ggplot({Nation}, aes(year)) + geom_line(aes(y = quantity), colour="red")
ggplot({Nation}, mapping= aes(x=year, y= quantity)) + geom_line() + geom_smooth(method = lm)






